# 计算机组成原理
# 计算机组成原理

硬件 + 软件

硬件：CPU + 主板 + 内存 + 硬盘 
计算机硬件卫衣能识别的数据： 二进制0/1

软件：


![Img](./FILES/计算机组成原理.md/img-20231226092340.png)

# 第一章 计算机系统概述

## 什么是计算机系统
计算机系统 = 硬件 + 软件
硬件：计算机的实体
软件：由具有各类特殊功能的程序组成： = 系统软件 + 应用软件
系统软件：操作系统，数据库，标准程序库， 网路软件， 语言处理程序， 服务程序
应用软件：按任务需要编制而成的各种程序

## 硬件的发展
ENIAC：1946年
逻辑元件：电子管 1，8W个
![Img](./FILES/计算机组成原理.md/img-20231226092633.png)

电子管-》晶体管-》中小规模集成电路-》大规模，超大规模集成电路

BUG：小虫子（纸带上的）


![Img](./FILES/计算机组成原理.md/img-20231226092908.png)

机器字长： 计算机一次证书运算所能处理的二进制位数

![Img](./FILES/计算机组成原理.md/img-20231226093046.png)

摩尔定律： 
![Img](./FILES/计算机组成原理.md/img-20231226093100.png)

## 软件的发展

机器语言-》汇编语言-》高级语言（fortran， pascal， c++）

## 目前的发展趋势：
两极化：
1. 更微型化，网络化， 高性能，多用途
2. 巨型化，高速化，并行化

## 知识点回顾
![Img](./FILES/计算机组成原理.md/img-20231226093401.png)


# 计算机硬件的基本组成
1. 早期冯诺依曼架构
2. 现代计算机架构


## 早期冯诺依曼机
**”存储程序“**
![Img](./FILES/计算机组成原理.md/img-20231226093534.png)

第一台冯诺依曼机：EDVAC

具体架构；
![Img](./FILES/计算机组成原理.md/img-20231226093615.png)


在计算机系统中：**软件和硬件在逻辑上是等效的**


冯诺依曼架构计算机的特点：
1. 计算机由五大部件组成：输入设备，输出设备，存储器，运算器，控制器
2. 指令和数据以同等地位存储与存储器，可以按照地址寻访；
3. 指令和数据用二进制表示
4. 指令由操作码和地址码组成
5. 存储程序
6. 以运算器为中心：输入输出设备与存储器之间的数据通过运算器完成

## 现代计算机的结构
![Img](./FILES/计算机组成原理.md/img-20231226113423.png)

以存储器为中心
CPU = 运算器 + 控制器

![Img](./FILES/计算机组成原理.md/img-20231226113447.png)

## 知识回顾与重要考点

![Img](./FILES/计算机组成原理.md/img-20231226113731.png)


# 各个硬件的工作原理

![Img](./FILES/计算机组成原理.md/img-20231226113757.png)


## 主存储器

主存储器 + 存储体 + MAR + MDR
MAR：memory address register 存储地址寄存器
MDR：memroy data register 存储数据寄存器

![Img](./FILES/计算机组成原理.md/img-20231226113953.png)

存储单元：每个存储单元存放一串二进制代码
存储字（word）：存储单元中二进制代码的组合
存储字长：存储单元中二进制代码的位数
存储元；存储二进制数据的电子元件，每个存储元可以存储1bit数据

## 运算器


![Img](./FILES/计算机组成原理.md/img-20231226114531.png)


运算器：用于实现算数运算（加减乘除，逻辑运算）

ACC：累加器
MQ：乘商寄存器
X：通用操作数寄存器
ALU：算数逻辑单元

## 控制器

![Img](./FILES/计算机组成原理.md/img-20231226114649.png)

CU：控制单元
IR：指令寄存器
PC：程序计数器


## 计算机的工作过程；
```C
int a = 2, b = 3, c = 1, y = 0;
void main()
{
    y = a * b + c;
}
```

![Img](./FILES/计算机组成原理.md/img-20231226115725.png)

![Img](./FILES/计算机组成原理.md/img-20231226120035.png)

![Img](./FILES/计算机组成原理.md/img-20231226120234.png)

![Img](./FILES/计算机组成原理.md/img-20231226120338.png)

![Img](./FILES/计算机组成原理.md/img-20231226120419.png)

计算机工作过程：
必经步骤：取指令，分析
![Img](./FILES/计算机组成原理.md/img-20231226120452.png)


## 知识点回顾
![Img](./FILES/计算机组成原理.md/img-20231226120526.png)

![Img](./FILES/计算机组成原理.md/img-20231226120641.png)

# 计算机系统的层次结构

微程序机器 M0 （微指令系统） -》传统机器 M1 （用机器语言的机器） -》 虚拟机器 M2 （汇编语言机器） -》 虚拟机器 M3 （高级语言机器）

如果再加上操作系统；

![Img](./FILES/计算机组成原理.md/img-20231226121114.png)

## 三种级别的语言

高级语言；
汇编语言；
机器语言；

编译程序；一次性全部编译成机器语言程序
解释程序：每执行一句都需要翻译一次

## 知识回顾
![Img](./FILES/计算机组成原理.md/img-20231226121410.png)

计算机体系结构 vs 计算机组成原理

![Img](./FILES/计算机组成原理.md/img-20231226121432.png)


# 计算机性能指标

## 存储器的性能指标

1. 总容量
2. 读取速度

![Img](./FILES/计算机组成原理.md/img-20231226121606.png)

![Img](./FILES/计算机组成原理.md/img-20231226135128.png)


## CPU的性能指标

CPU主频：CPU内数字脉冲信号的震荡的频率

CPU主频 = 1 / （CPU时钟周期）


CPI: 每一条指令需要的时钟周期
（不同的指令，CPI不同，甚至是相同的指令，CPI也可能有变化）

![Img](./FILES/计算机组成原理.md/img-20231226135458.png)

IPS： 每秒执行多少条指令

FLOPS：每秒执行多少次浮点运算

![Img](./FILES/计算机组成原理.md/img-20231226135554.png)

## 系统整体的性能指标

数据通路带宽
吞吐量
响应时间

![Img](./FILES/计算机组成原理.md/img-20231226135807.png)

基准程序：用于测量计算机处理速度的一种实用程序

## 知识回顾

![Img](./FILES/计算机组成原理.md/img-20231226140035.png)


# 第二章 数据的表示和运算

# 进位计数制

![Img](./FILES/计算机组成原理.md/img-20231226140147.png)

## 十进制计数法


![Img](./FILES/计算机组成原理.md/img-20231226140519.png)


## 推广：R进制计数法

![Img](./FILES/计算机组成原理.md/img-20231226140554.png)

二进制， 八进制，十进制，十六进制


## 任意进制——》十进制

数码 * 位全

## 二进制-》八进制，十六进制
八进制：三位一组
十六进制：四位一组

## 进制的表示方法

![Img](./FILES/计算机组成原理.md/img-20231226141421.png)


## 十进制-》任意进制

![Img](./FILES/计算机组成原理.md/img-20231226142237.png)

除基取余法

![Img](./FILES/计算机组成原理.md/img-20231226142522.png)

乘积取整法

## 真值和机器数
真值：符合人类习惯的数字
机器数：数字实际存到机器里面的形式，正负号都需要被数字化


## 知识回顾

![Img](./FILES/计算机组成原理.md/img-20231226142801.png)

![Img](./FILES/计算机组成原理.md/img-20231226143042.png)


# BCD码

![Img](./FILES/计算机组成原理.md/img-20231226143103.png)

三种：
1. 8421码
2. 余3码
3. 2421码

BCD：binary——coded——decimal

## 8421码
![Img](./FILES/计算机组成原理.md/img-20231226144215.png)

不在映射表里面的，需要加上6进行修正

## 余3码
余3码是无权码，每一个位的数字权重不是固定的，而8421码和2421码是有权码
![Img](./FILES/计算机组成原理.md/img-20231226144316.png)

## 2421码

权重分别为 2 4 2 1 ，5以后的数字第一位必须是1

## 知识回顾

![Img](./FILES/计算机组成原理.md/img-20231226144529.png)


# 无符号整数的表示和运算

## 无符号整数的表示

![Img](./FILES/计算机组成原理.md/img-20231226144720.png)

按照各数值位的位权进行表示

如果数值过大，会溢出，导致数据丢失

![Img](./FILES/计算机组成原理.md/img-20231226145321.png)

无符号整数的加法：
从低位开始，按位相加，并向更高位进位

无符号整数的减法：
被减数不变，减数全部按位取反，末位+1，将减法变成加法
按照加法的方式进行相加；

## 知识回顾

![Img](./FILES/计算机组成原理.md/img-20231226145845.png)

# 带符号整数的表示和运算

## 带符号整数的表示

### 原码表示法

最高位表示符号：0正1负
剩下的数值位表示真值的绝对值

![Img](./FILES/计算机组成原理.md/img-20231226150134.png)

真值0有两种表示方式

原码的缺点：符号位不能参与运算
可以用补码来参与运算

## 原码-反码-补码的转换

正数的三码统一

负数：符号位不变，数值位按位取反，得到反码，末位+1，得到补码


原码和补码的快速转换：

![Img](./FILES/计算机组成原理.md/img-20231226151808.png)

补码的减法运算

补码 - 补码 可以转换为 补码 + （- 补码）

![Img](./FILES/计算机组成原理.md/img-20231226152816.png)

![Img](./FILES/计算机组成原理.md/img-20231226153203.png)

## 知识回顾

![Img](./FILES/计算机组成原理.md/img-20231226153916.png)

# 原码 反码 补码 特性对比

![Img](./FILES/计算机组成原理.md/img-20231226154120.png)

 # 带符号整数的移码表示
 ![Img](./FILES/计算机组成原理.md/img-20231227093239.png)

# 定点小数的表示

![Img](./FILES/计算机组成原理.md/img-20231227093742.png)

![Img](./FILES/计算机组成原理.md/img-20231227093749.png)

## 定点整数与定点小数

### 表示范围
![Img](./FILES/计算机组成原理.md/img-20231227094159.png)

### 位数扩展

![Img](./FILES/计算机组成原理.md/img-20231227094308.png)

# 奇偶校验码

## 校验原理

增加一个校验位来判断数据是否合法

## 奇偶校验

![Img](./FILES/计算机组成原理.md/img-20231227094950.png)

![Img](./FILES/计算机组成原理.md/img-20231227095748.png)


# 算数逻辑单元 电路基本原理及加法器设计


![Img](./FILES/计算机组成原理.md/img-20231227095912.png)

## 算数逻辑单元

![Img](./FILES/计算机组成原理.md/img-20231227100127.png)


### 基本逻辑运算

![Img](./FILES/计算机组成原理.md/img-20231227100456.png)

![Img](./FILES/计算机组成原理.md/img-20231227100816.png)

![Img](./FILES/计算机组成原理.md/img-20231227101229.png)


![Img](./FILES/计算机组成原理.md/img-20231227101235.png)


## 一位全加器

![Img](./FILES/计算机组成原理.md/img-20231227103837.png)

### 串行加法器

![Img](./FILES/计算机组成原理.md/img-20231227104039.png)

### 并行加法器

![Img](./FILES/计算机组成原理.md/img-20231227104107.png)


## 本节总览

![Img](./FILES/计算机组成原理.md/img-20231227104158.png)



# 并行进位加法器

![Img](./FILES/计算机组成原理.md/img-20231227104319.png)

![Img](./FILES/计算机组成原理.md/img-20231227104828.png)




# 补码加减运算器

## 加法器原理

![Img](./FILES/计算机组成原理.md/img-20231227104911.png)

## 补码加减运算方法

![Img](./FILES/计算机组成原理.md/img-20231227105446.png)


![Img](./FILES/计算机组成原理.md/img-20231227105703.png)


![Img](./FILES/计算机组成原理.md/img-20231227120304.png)


# 定点数的加减运算

![Img](./FILES/计算机组成原理.md/img-20231227120723.png)

##  原码的加减运算

![Img](./FILES/计算机组成原理.md/img-20231227120737.png)

## 溢出判断

### 方法一
![Img](./FILES/计算机组成原理.md/img-20231227145441.png)


### 方法二
![Img](./FILES/计算机组成原理.md/img-20231227145559.png)

### 方法三
![Img](./FILES/计算机组成原理.md/img-20231227145707.png)

## 符号扩展
![Img](./FILES/计算机组成原理.md/img-20231227150326.png)

## 本节回顾
![Img](./FILES/计算机组成原理.md/img-20231227150414.png)


# 标志位生成

![Img](./FILES/计算机组成原理.md/img-20231227150529.png)


# 移位运算

## 算术移位

### 原码的算数移位

右移
![Img](./FILES/计算机组成原理.md/img-20231227151317.png)

左移
![Img](./FILES/计算机组成原理.md/img-20231227151419.png)


### 反码的算数移位
![Img](./FILES/计算机组成原理.md/img-20231227151537.png)


### 补码的算数移位

![Img](./FILES/计算机组成原理.md/img-20231227151646.png)
### 算数移位总结
![Img](./FILES/计算机组成原理.md/img-20231227151711.png)


### 算数移位应用举例

![Img](./FILES/计算机组成原理.md/img-20231227151843.png)


## 逻辑移位

![Img](./FILES/计算机组成原理.md/img-20231227151855.png)




## 循环移位
![Img](./FILES/计算机组成原理.md/img-20231227153417.png)

![Img](./FILES/计算机组成原理.md/img-20231227153442.png)



## 知识点回顾
![Img](./FILES/计算机组成原理.md/img-20231227153506.png)



# 定点数的原码乘法实现

![Img](./FILES/计算机组成原理.md/img-20231227153805.png)

运算思想：运算移位
![Img](./FILES/计算机组成原理.md/img-20231227155314.png)


ACC的值： 先置0


![Img](./FILES/计算机组成原理.md/img-20231227154455.png)


![Img](./FILES/计算机组成原理.md/img-20231227155544.png)





# 补码的一位乘法

![Img](./FILES/计算机组成原理.md/img-20231227155713.png)


![Img](./FILES/计算机组成原理.md/img-20231227155845.png)


## 本节回顾

![Img](./FILES/计算机组成原理.md/img-20231227160024.png)


# 定点数的除法实现

![Img](./FILES/计算机组成原理.md/img-20231227160355.png)



![Img](./FILES/计算机组成原理.md/img-20231227161229.png)

## 恢复余数法

![Img](./FILES/计算机组成原理.md/img-20231227161409.png)


## 加减交替法

![Img](./FILES/计算机组成原理.md/img-20231227162247.png)



# 补码的除法运算

![Img](./FILES/计算机组成原理.md/img-20231227162328.png)

## 除法运算总结回顾
![Img](./FILES/计算机组成原理.md/img-20231227162528.png)

# C语言中的定点数类型转换

C语言中的定点整数都是用”补码“存储的

![Img](./FILES/计算机组成原理.md/img-20231227162748.png)

# 数据的存储和排列问题

## 大端小端模式


![Img](./FILES/计算机组成原理.md/img-20231227162850.png)


大端方式；低地址存放高字节
小端模式：低地址存放低字节

大端更适合人类阅读
小端更适合机器处理


## 边界对齐
![Img](./FILES/计算机组成原理.md/img-20231227163123.png)


# 浮点数的表示

![Img](./FILES/计算机组成原理.md/img-20231227163422.png)

## 定点数的局限性

![Img](./FILES/计算机组成原理.md/img-20231227163444.png)

##  从科学计数法理解浮点数

![Img](./FILES/计算机组成原理.md/img-20231227163556.png)


## 浮点数的表示

![Img](./FILES/计算机组成原理.md/img-20231227163951.png)

## 浮点数尾数的规格化

![Img](./FILES/计算机组成原理.md/img-20231227164137.png)

![Img](./FILES/计算机组成原理.md/img-20231227164240.png)


## 规格化浮点数的特点


![Img](./FILES/计算机组成原理.md/img-20231227191946.png)

## 知识点回顾
![Img](./FILES/计算机组成原理.md/img-20231227192034.png)

# 浮点数标准 IEEE 754 

I triple E

## 移码
![Img](./FILES/计算机组成原理.md/img-20231227192338.png)

![Img](./FILES/计算机组成原理.md/img-20231227192442.png)

![Img](./FILES/计算机组成原理.md/img-20231227192612.png)

## IEEE 754

![Img](./FILES/计算机组成原理.md/img-20231227192633.png)

![Img](./FILES/计算机组成原理.md/img-20231227200704.png)

![Img](./FILES/计算机组成原理.md/img-20231227200928.png)


# 浮点数的运算

## 浮点数的加减运算

![Img](./FILES/计算机组成原理.md/img-20231227201516.png)

## 浮点数的加减运算

![Img](./FILES/计算机组成原理.md/img-20231227201925.png)

## 舍入规则

![Img](./FILES/计算机组成原理.md/img-20231227202026.png)

## 强制类型转换

![Img](./FILES/计算机组成原理.md/img-20231227202304.png)

## 本节回顾


![Img](./FILES/计算机组成原理.md/img-20231227202319.png)
























